<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1.0"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><link rel="alternate" href="https://sanbaofengs.com" hreflang="zh-Hans"><meta name="google-site-verification" content="yVLudwcqIQlJbqhCeKLJZ8W_I1OJeVE8p30fz1mRhLM"><meta name="baidu-site-verification" content="lGmVtKnPAU"><meta name="author" content="San Baofeng"><meta name="description" content="If I Rest, I Rust"><link rel="alternative" href="/atom.xml" title="San Baofeng's" type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><script>var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?" + 'f00d6c21ad53bcc5d93c0a390afc84a7';
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
})();</script><title>Sentry ä½¿ç”¨æ€»ç»“ - San Baofeng's</title><link rel="stylesheet" href="/css/main.css"><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">San Baofeng's</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives/">ã‚«ã‚¿ãƒ­ã‚°/ï¼ˆç›®å½•ï¼‰</a></li></ul></nav></header><nav class="post-nav"><a class="nav-item prev" href="/2018/06/12/easier-mock-server/"><i class="icon-arrow-left"></i><span class="nav-item-title nav-item-title-left">æ›´ç®€å•çš„ Mock Server</span></a><a class="nav-item next" href="/2018/06/05/web-conceptions/"><i class="icon-arrow-right"></i><span class="nav-item-title nav-item-title-right">Web åè¯è§£é‡Š</span></a></nav><main class="main"><article class="post"><header class="post__head"> <h1 class="post__title"><a href="/2018/06/05/sentry-experience/">Sentry ä½¿ç”¨æ€»ç»“</a></h1><time class="post__time" datetime="2018-06-05T13:01:48.000Z">06-05, 2018</time><div class="post__main echo"><ol>
<li>Sentry çš„é…ç½®</li>
<li>Sentry è°ƒç”¨çš„æ¥å£ä¸ç•Œé¢å†…å®¹çš„å¯¹åº”å…³ç³»</li>
</ol>
<h2 id="å¼€å§‹ä½¿ç”¨-Sentry"><a href="#å¼€å§‹ä½¿ç”¨-Sentry" class="headerlink" title="å¼€å§‹ä½¿ç”¨ Sentry"></a>å¼€å§‹ä½¿ç”¨ Sentry</h2><p>æˆ‘ç”¨çš„ Sentry çš„æ˜¯å…¬å¸è‡ªå·±æ­å»ºçš„ Sentry æœåŠ¡ã€‚å¦‚æœæ˜¯ä¸ªäººå¯ä»¥ä½¿ç”¨ <a href="https://sentry.io/welcome/" target="_blank" rel="noopener">Sentry å®˜æ–¹</a>æä¾›çš„æœåŠ¡ï¼Œæˆ–è€…åœ¨ <a href="https://github.com/getsentry/sentry" target="_blank" rel="noopener">Gayhub</a> ä¸Šè·å–æºç ï¼Œè‡ªå·±æ­å»ºæœåŠ¡ã€‚</p>
<h3 id="1-æ–°å»ºé¡¹ç›®"><a href="#1-æ–°å»ºé¡¹ç›®" class="headerlink" title="1. æ–°å»ºé¡¹ç›®"></a>1. æ–°å»ºé¡¹ç›®</h3><p>ç‚¹å‡» <code>Start Project</code> å³å¯</p>
<h3 id="2-é¡¹ç›®é…ç½®"><a href="#2-é¡¹ç›®é…ç½®" class="headerlink" title="2. é¡¹ç›®é…ç½®"></a>2. é¡¹ç›®é…ç½®</h3><p>è®¾ç½®ä¿æŒé»˜è®¤å³å¯</p>
<p>æ‹·è´æ•°æ® - å®¢æˆ·ç«¯å¯†é’¥ï¼ˆDSNï¼‰å¤‡ç”¨ï¼Œ<strong>è¿™é‡Œç”¨çš„æ˜¯ DSNï¼ˆå…¬å…±ï¼‰</strong></p>
<h3 id="3-åœ¨é¡¹ç›®ä»£ç ä¸­ä½¿ç”¨"><a href="#3-åœ¨é¡¹ç›®ä»£ç ä¸­ä½¿ç”¨" class="headerlink" title="3. åœ¨é¡¹ç›®ä»£ç ä¸­ä½¿ç”¨"></a>3. åœ¨é¡¹ç›®ä»£ç ä¸­ä½¿ç”¨</h3><p>1ï¼‰ åˆå§‹åŒ–</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// your-DSN-public ç¬¬äºŒæ­¥æ‹·è´çš„ DSNï¼ˆå…¬å…±ï¼‰</span></span><br><span class="line">Raven.config(<span class="string">'your-DSN-public'</span>).install()</span><br></pre></td></tr></table></figure>
<p>2ï¼‰ ä½¿ç”¨è¯¦æƒ…</p>
<p>ä¸ŠæŠ¥é”™è¯¯ä¿¡æ¯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    doSomething(a[<span class="number">0</span>])</span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">    Raven.captureException(e)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤ä¸º <code>error</code> ç±»å‹ï¼Œæ¯ <code>catch</code> ä¸€æ¬¡ï¼Œéƒ½ä¼šå¾€ Sentry æœåŠ¡ä¸­ report ä¸€æ¡é”™è¯¯ä¿¡æ¯ï¼ŒSentry ä¼šå¯¹åŒç±»å‹çš„é”™è¯¯è¿›è¡Œåˆå¹¶ã€‚</p>
<p>æ³¨æ„ï¼šcaptureExceptionï¼šå‚æ•°ä¸º <em>Error Object</em>ï¼Œegï¼š<code>throw new Error(&#39;broken&#39;)</code></p>
<p><img src="https://imgs.sanbaofengs.com/18-6-6/19805568.jpg" alt=""></p>
<p>è¿½è¸ªç”¨æˆ·</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Raven.setUserContext(&#123;</span><br><span class="line">    email: &apos;matt@example.com&apos;,</span><br><span class="line">    id: &apos;123&apos;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgs.sanbaofengs.com/18-6-6/13438728.jpg" alt=""></p>
<p>æ•è·ä¿¡æ¯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Raven.captureMessage(<span class="string">'broken!'</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://imgs.sanbaofengs.com/18-6-6/8941141.jpg" alt=""></p>
<p>æ·»åŠ é¢å¤–ä¿¡æ¯</p>
<ul>
<li>level é”™è¯¯çº§åˆ«<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Raven.captureMessage(<span class="string">'Something happened'</span>, &#123;</span><br><span class="line">    level: <span class="string">'info'</span> <span class="comment">// one of 'info', 'warning', or 'error'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="https://imgs.sanbaofengs.com/18-6-6/98419793.jpg" alt=""></p>
<ul>
<li>logger<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Raven.captureException(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Oops!'</span>), &#123;</span><br><span class="line">    logger: <span class="string">'my.module'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="https://imgs.sanbaofengs.com/18-6-6/22689615.jpg" alt=""></p>
<ul>
<li>tags<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Raven.wrap(&#123;</span><br><span class="line">    tags: &#123;<span class="attr">git_commit</span>: <span class="string">'c0deb10c4'</span>&#125;</span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="comment">/* ... */</span> &#125;);</span><br><span class="line"></span><br><span class="line">Raven.wrap(&#123;</span><br><span class="line">    tags: &#123;<span class="attr">key</span>: <span class="string">'value'</span>&#125;</span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="comment">/* ... */</span> &#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="https://imgs.sanbaofengs.com/18-6-6/76220204.jpg" alt=""></p>
<ul>
<li>extra<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Raven.context(&#123;</span><br><span class="line">    extra: &#123;<span class="attr">foo</span>: <span class="string">'bar'</span>&#125;</span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="comment">/* ... */</span> &#125;);</span><br><span class="line"></span><br><span class="line">Raven.setExtraContext(&#123; <span class="attr">foo</span>: <span class="string">"bar"</span> &#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="https://imgs.sanbaofengs.com/18-6-6/96583821.jpg" alt=""></p>
<p>å°±è¿™æ ·å„¿å§ï¼Œå…¶ä»–è¯¦ç»†çš„é…ç½®å‚è€ƒ <a href="https://docs.sentry.io" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼Œå»ºè®®å¯¹ç…§æ–‡æ¡£ä¸€å¯¹ä¸€çš„æ“ä½œğŸ‘€</p>
</div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/JavaScript/">JavaScript</a></li><li class="post__tag__item"><a class="post__tag__link" href="/tags/Sentry/">Sentry</a></li></ul></footer></article><div id="comments"></div></main><div id="back-to-top"><i class="icon-arrow-right"></i></div><footer class="foot"><div class="foot-copy"><p class="fooot">&copy; 2017-2018 <a class="link" href="https://github.com/x-bao" target="view_window">San Baofeng</a><a href="http://www.miibeian.gov.cn/" target="view_window" style="color: #fff">ï¼ˆé„‚ICPå¤‡17002258å·-2ï¼‰</a></p><p class="foot-theme">Powered by <a href="https://hexo.io" target="_blank" class="link">Hexo</a> with Theme <a href="https://github.com/x-bao/hexo-theme-ochuunn" target="_blank" class="link">ochuunn</a></p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
ga('create','UA-80885450-5');
ga('send','pageview');</script><!-- æ–‡ç« è¯¦æƒ…é¡µæ‰å±•ç¤ºè¯„è®º--><script src="/js/comment.js"></script><script src="/js/autoScroll.js"></script><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><link rel="stylesheet" href="/js/gitment/gitment-default.css"><script src="/js/gitment/gitment.browser.js"></script><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>